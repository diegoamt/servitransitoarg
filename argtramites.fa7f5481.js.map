{"version":3,"sources":["index.js"],"names":["main","credentials","space","accessToken","client","selectors","navbar","title","description","brand","logo","menu","navbarCollapsed","container","backgroundHeader","whatsapp","phone","services","content","footer","socialMedia","address","facebook","instagram","scrollhandler","i","target","el","document","querySelector","window","scroll","top","offsetTop","left","behavior","sortServices","a","b","fields","name","contentful","createClient","getEntries","then","entries","collapsedMenu","collapsedContainer","collapsedNavbar","items","forEach","field","item","createElement","itemCollapsed","classList","add","appendChild","createTextNode","addEventListener","toggle","remove","renderContent","backgroundContainer","backgroundHeaderTitle","footerTitle","servicesTitle","sectionHeader1","sectionHeader2","sectionHeader3","backgroundImage","imgUrl","file","url","style","contact","companyName","companyDescription","navbarTitle","navbarDescription","logoImg","src","alt","insertBefore","firstChild","renderFooter","phone1","phone2","isWhatsappPhone1","backgroundHeaderPhone","backgroundHeaderWhatsapp","footerPhone","footerAddress","footerFacebook","footerInstagram","whatsappUrl","href","display","phoneStr","renderServices","servicesContent","sort","service","image","getServiceItemMarkup","insertAdjacentHTML"],"mappings":"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","file":"argtramites.fa7f5481.js","sourceRoot":"..","sourcesContent":["const main = () => {\n\n    const credentials = {\n        space: 'dob35lpczg27',\n        accessToken: 'QcaN8-S79TzQtt8PFcj97bVRrOYXf_jdQFcllX2Wv-4'\n    };\n\n    const selectors = {\n        navbar: {\n            title: '.navbar__title',\n            description: '.navbar__description',\n            brand: '.navbar__brand',\n            logo: '.navbar__logo',\n            menu: '.navbar__menu'\n        },\n        navbarCollapsed: {\n            navbar: '.navbar__nav-collapsed',\n            container: '.navbar__nav-collapsed-container',\n            menu: '.navbar__nav-collapsed-menu'\n        },\n        backgroundHeader: {\n            container: '.background-header__container',\n            title: '.background-header__title',\n            whatsapp: '.background-header__whatsapp',\n            phone: '.background-header__phone'\n        },\n        services: {\n            title: '.services__title',\n            content: '.services__content'\n        },\n        footer: {\n            title: '.footer__title',\n            socialMedia: '.footer__social-media',\n            phone: '.footer__phone',\n            address: '.footer__address',\n            facebook: '.footer__facebook',\n            instagram: '.footer__instagram'\n        }\n    }\n\n    function getClient() {\n        const { space, accessToken } = credentials;\n        return contentful.createClient({\n            space,\n            accessToken\n        });\n    }\n\n    function scrollhandler(i) {\n        const target = `#section${i + 1}`;\n        const el = document.querySelector(target);\n        window.scroll({\n            top: el.offsetTop - 70, \n            left: 0, \n            behavior: 'smooth'\n        });\n    }\n\n    function renderNavbar(content) {\n        const menu = document.querySelector(selectors.navbar.menu);\n        const collapsedMenu = document.querySelector(selectors.navbarCollapsed.menu);\n        const collapsedContainer = document.querySelector(selectors.navbarCollapsed.container);\n        const collapsedNavbar = document.querySelector(selectors.navbarCollapsed.navbar);\n        ['navigationLink1', 'navigationLink2', 'navigationLink3'].forEach((field, i) => {\n            const item = document.createElement('li');\n            const itemCollapsed = document.createElement('div');\n            item.classList.add('navbar__item');\n            itemCollapsed.classList.add('navbar__nav-collapsed-item');\n            item.appendChild(document.createTextNode(content[field]));\n            itemCollapsed.appendChild(document.createTextNode(content[field]));\n            collapsedContainer.addEventListener('click', () => {\n                collapsedNavbar.classList.toggle('navbar__nav-collapsed--active');\n            });\n            item.addEventListener('click', () => {\n                scrollhandler(i);\n            });\n            itemCollapsed.addEventListener('click', () => {\n                scrollhandler(i);\n                collapsedNavbar.classList.remove('navbar__nav-collapsed--active');\n            });\n            menu.appendChild(item);\n            collapsedMenu.appendChild(itemCollapsed);\n        });\n    }\n\n    function renderContent(content) {\n        const backgroundContainer = document.querySelector(selectors.backgroundHeader.container);\n        const backgroundHeaderTitle = document.querySelector(selectors.backgroundHeader.title);\n        const footerTitle = document.querySelector(selectors.footer.title);\n        const servicesTitle = document.querySelector(selectors.services.title);\n\n        const { sectionHeader1, sectionHeader2, sectionHeader3, backgroundImage } = content;\n        \n        backgroundHeaderTitle.appendChild(document.createTextNode(sectionHeader1));\n        servicesTitle.appendChild(document.createTextNode(sectionHeader2));\n        footerTitle.appendChild(document.createTextNode(sectionHeader3));\n\n        const imgUrl = `https:${backgroundImage.fields.file.url}`;\n        backgroundContainer.style.backgroundImage = `url('${imgUrl}')`;\n    }\n\n    function renderBrand(contact) {\n        const { logo, companyName, companyDescription } = contact;\n        const brand = document.querySelector(selectors.navbar.brand);\n        const title = document.querySelector('title');\n        const navbarTitle = document.querySelector(selectors.navbar.title);\n        const navbarDescription = document.querySelector(selectors.navbar.description);\n        \n        const logoImg = document.createElement('img');\n        logoImg.classList.add('navbar__logo');\n        logoImg.src = `https:${logo.fields.file.url}`;\n        logoImg.alt = companyName;\n        brand.insertBefore(logoImg, brand.firstChild);\n        title.appendChild(document.createTextNode(companyName));\n        navbarTitle.appendChild(document.createTextNode(companyName));\n        navbarDescription.appendChild(document.createTextNode(companyDescription));\n    }\n\n    function sortServices( a, b ) {\n        if ( a.fields.name < b.fields.name ){\n          return -1;\n        }\n        if ( a.fields.name > b.fields.name ){\n          return 1;\n        }\n        return 0;\n      }\n\n    function getServiceItemMarkup(name, imgUrl) {\n        return `\n        <div class=\"services__item\">\n            <img class=\"services__item-img\" src=\"${imgUrl}\" alt=\"${name}\">\n            <div class=\"services__item-title\">\n                <span>${name}</span> <span class=\"services__item-icon icon-angle-right\"></span>\n            </div>\n        </div>`;\n    }\n\n    function renderServices(services) {\n        const servicesContent = document.querySelector(selectors.services.content);\n        services.sort(sortServices).forEach(service => {\n            const { name, image } = service.fields;\n            const item = getServiceItemMarkup(name, `https:${image.fields.file.url}`);\n            servicesContent.insertAdjacentHTML('beforeend', item);\n        });\n    }\n\n    function renderFooter(contact) {\n        const {\n            address,\n            phone1,\n            phone2,\n            isWhatsappPhone1,\n            facebook,\n            instagram\n        } = contact;\n\n        const backgroundHeaderPhone = document.querySelector(selectors.backgroundHeader.phone);\n        const backgroundHeaderWhatsapp = document.querySelector(selectors.backgroundHeader.whatsapp);\n        const footerPhone = document.querySelector(selectors.footer.phone);\n        const footerAddress = document.querySelector(selectors.footer.address);\n        const footerFacebook = document.querySelector(selectors.footer.facebook);\n        const footerInstagram = document.querySelector(selectors.footer.instagram);\n        \n        if (isWhatsappPhone1) {\n            const whatsappUrl = `https://wa.me/57${[phone1]}?text=Hola,`;\n            backgroundHeaderPhone.appendChild(document.createTextNode(phone1));\n            backgroundHeaderWhatsapp.href = whatsappUrl;\n        } else {\n            backgroundHeaderPhone.style.display = 'none';\n        }\n        const phoneStr = phone2 ? `${phone1} - ${phone2}` : phone1;\n        footerPhone.appendChild(document.createTextNode(phoneStr));\n        footerAddress.appendChild(document.createTextNode(address));\n        if (facebook) {\n            footerFacebook.href = facebook;\n        } else {\n            footerFacebook.display = 'none';\n        }\n        if (instagram) {\n            footerInstagram.href = instagram;\n        } else {\n            footerInstagram.display = 'none';\n        }\n    }\n\n    function init() {\n        const client = getClient();\n        // content\n        client.getEntries({'content_type': 'content'}).then( entries => {\n            const { fields } = entries.items[0];\n            renderNavbar(fields);\n            renderContent(fields);\n        });\n        // contact\n        client.getEntries({'content_type': 'contact'}).then( entries => {\n            const { fields } = entries.items[0];\n            renderBrand(fields);\n            renderFooter(fields);\n        });\n        // services\n        client.getEntries({'content_type': 'service'}).then( entries => {\n            renderServices(entries.items);\n        });\n    }\n\n    init();\n};\n\nmain();\n"]}